<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>AI：咚咚咚！您好，请查收这份《主机安全体检报告》 | Zachary个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="主机御医1.0：基于大模型自动化检查主机安全情况">
<meta property="og:type" content="article">
<meta property="og:title" content="AI：咚咚咚！您好，请查收这份《主机安全体检报告》">
<meta property="og:url" content="https://grokfree.xyz/2025/07/26/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%E6%8A%A5%E5%91%8A/index.html">
<meta property="og:site_name" content="Zachary个人博客">
<meta property="og:description" content="主机御医1.0：基于大模型自动化检查主机安全情况">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://grokfree.xyz/images/titu/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A.png">
<meta property="article:published_time" content="2025-07-26T02:30:00.000Z">
<meta property="article:modified_time" content="2025-07-28T06:16:56.980Z">
<meta property="article:author" content="Zachary">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="AIOps">
<meta property="article:tag" content="LLM">
<meta property="article:tag" content="提示词工程">
<meta property="article:tag" content="网络运维">
<meta property="article:tag" content="大模型">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://grokfree.xyz/images/titu/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A.png">
  
    <link rel="alternate" href="/atom.xml" title="Zachary个人博客" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Zachary个人博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/links/">Links</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://grokfree.xyz"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-主机安全检查报告" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/07/26/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%E6%8A%A5%E5%91%8A/" class="article-date">
  <time class="dt-published" datetime="2025-07-26T02:30:00.000Z" itemprop="datePublished">2025-07-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/">技术实践</a>►<a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/AIOps/">AIOps</a>
  </div>

  </div>
  <div class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="/images/titu/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A.png" rel="gallery_cmds5y09h00135ovehq6e5tli">
        <img src="/images/titu/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A.png" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      AI：咚咚咚！您好，请查收这份《主机安全体检报告》
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>主机御医1.0：基于大模型自动化检查主机安全情况</p>
<span id="more"></span>
<hr>
<h3 id="本文导览"><a href="#本文导览" class="headerlink" title="本文导览"></a><strong>本文导览</strong></h3><ul>
<li><strong>一、引言</strong></li>
<li><strong>二、成果展示：主机御医1.0 交互式安全报告 ✨ (核心亮点)</strong></li>
<li><strong>三、架构的演进：从单体智能到协同分析</strong></li>
<li><strong>四、项目核心组件解析</strong></li>
<li><strong>五、结论与展望</strong></li>
</ul>
<hr>
<h3 id="一、引言：挑战与AI赋能的思考"><a href="#一、引言：挑战与AI赋能的思考" class="headerlink" title="一、引言：挑战与AI赋能的思考"></a><strong>一、引言：挑战与AI赋能的思考</strong></h3><p>在网络安全领域，主机安全审计是保障信息系统安全的关键环节。传统的审计工作流不仅耗时耗力，而且分析结果的深度与广度严重依赖于审计人员的专业经验，难以实现标准化和规模化。</p>
<p>随着大型语言模型在理解、推理与内容生成方面展现出的卓越能力，我们开始思考新的可能性：是否可以构建一个由AI驱动的自动化审计引擎，将繁杂的原始数据转化为结构化的、附带专家级见解的<strong>安全报告</strong>？</p>
<h2 id="本文将详细阐述我们从概念构思到最终实现-“主机御医1-0”——一个AI驱动的主机安全自动化审计工具的全过程。在此之前，让我们首先展示这款工具的最终成果。（为展示得更加清晰而不杂乱，此处的全局展示隐藏了最左侧的导航栏，且查看详情功能仅每个模块仅展示一例）控制台运行演示："><a href="#本文将详细阐述我们从概念构思到最终实现-“主机御医1-0”——一个AI驱动的主机安全自动化审计工具的全过程。在此之前，让我们首先展示这款工具的最终成果。（为展示得更加清晰而不杂乱，此处的全局展示隐藏了最左侧的导航栏，且查看详情功能仅每个模块仅展示一例）控制台运行演示：" class="headerlink" title="本文将详细阐述我们从概念构思到最终实现 “主机御医1.0”——一个AI驱动的主机安全自动化审计工具的全过程。在此之前，让我们首先展示这款工具的最终成果。（为展示得更加清晰而不杂乱，此处的全局展示隐藏了最左侧的导航栏，且查看详情功能仅每个模块仅展示一例）控制台运行演示："></a>本文将详细阐述我们从概念构思到最终实现 <strong>“主机御医1.0”</strong>——一个AI驱动的主机安全自动化审计工具的全过程。在此之前，让我们首先展示这款工具的最终成果。<br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/1.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/2.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/3.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/4.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/5.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/6.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/8.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/9.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/10.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/11.png"><br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/12.png"><br>（为展示得更加清晰而不杂乱，此处的全局展示隐藏了最左侧的导航栏，且查看详情功能仅每个模块仅展示一例）<br>控制台运行演示：<br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/%E8%BF%90%E8%A1%8C.png" alt="体检报告"></h2><h3 id="二、成果展示：主机御医1-0-交互式安全报告-✨-核心亮点"><a href="#二、成果展示：主机御医1-0-交互式安全报告-✨-核心亮点" class="headerlink" title="二、成果展示：主机御医1.0 交互式安全报告 ✨ (核心亮点)"></a><strong>二、成果展示：主机御医1.0 交互式安全报告 ✨ (核心亮点)</strong></h3><p>主机御医1.0 的核心产出是一份独立的、交互式的HTML安全报告。它不仅呈现了详尽的审计结果，更通过现代化的UI设计和丰富的数据可视化，将复杂的主机安全态势变得直观、易于理解和跟进。（展示的数据来源为公司一台Linux服务器）</p>
<h4 id="亮点1：一目了然的安全态势总览"><a href="#亮点1：一目了然的安全态势总览" class="headerlink" title="亮点1：一目了然的安全态势总览"></a><strong>亮点1：一目了然的安全态势总览</strong></h4><p>报告顶部是“报告概览”区域，它将主机的核心安全指标汇于一处，让您对整体安全状况一目了然。</p>
<p><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/%E5%AE%89%E5%85%A8%E6%80%81%E5%8A%BF.png" alt="体检报告"></p>
<ul>
<li><strong>动态标题与扫描元信息：</strong> 报告标题会自动嵌入被扫描主机的IP地址。下方清晰展示了本次扫描所使用的AI模型（如 <code>deepseek-ai/DeepSeek-V3</code>）、引擎版本和扫描协议，增强了报告的专业性和透明度。</li>
<li><strong>精细化的加权安全评分：</strong> 我们摒弃了传统的简单风险计数扣分法，设计了一套<strong>基于风险类型的加权计分模型</strong>。例如，一个“高危”的凭证泄露（-12分）比一个“高危”的软件漏洞（-8分）扣分更多，这使得分数能更真实地反映主机的安全水位。点击分数旁的<strong>帮助图标</strong>，用户可以看到<strong>每一项具体的扣分明细</strong>，让分数不再是一个黑盒。</li>
<li><strong>风险统计可视化：</strong> 通过直观的条形图，将所有风险项按“高、中、低”三个等级进行分类统计，便于快速把握风险分布。</li>
</ul>
<h4 id="亮点2：超越传统扫描的深度审计维度"><a href="#亮点2：超越传统扫描的深度审计维度" class="headerlink" title="亮点2：超越传统扫描的深度审计维度"></a><strong>亮点2：超越传统扫描的深度审计维度</strong></h4><p>主机御医1.0 的核心价值在于其审计的深度。除了常规的端口和软件版本扫描，我们更注重那些容易被传统自动化工具忽略、却对主机安全至关重要的细节：</p>
<p><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/8.png" alt="体检报告"></p>
<ul>
<li><strong>权限配置深潜：</strong> 我们不仅检查用户列表，更深入分析 <code>/etc/sudoers</code> 文件，排查是否存在过度的权限授予。同时，对所有用户的 <code>authorized_keys</code> 文件进行扫描，这对于发现潜在的、通过SSH密钥留下的“后门”至关重要，这是许多传统扫描器容易忽视的盲点。</li>
<li><strong>文件完整性校验：</strong> 通过 <code>rpm -V</code> 校验核心系统工具（如 <code>ps</code>, <code>ls</code>, <code>sshd</code> 等）的完整性，这是检测Rootkit等深层威胁的有效手段。如果核心系统文件被篡改，报告将发出高危警报。</li>
<li><strong>内核参数审计：</strong> 对 <code>net.ipv4.ip_forward</code> 等关键内核参数进行检查，确保操作系统底层配置的安全性，防止主机被用作攻击跳板。</li>
<li><strong>网络拓扑可视化：</strong> 报告能够基于 <code>netstat</code> 的输出，<strong>生成主机网络连接拓扑图</strong>。它清晰地展示了本机与所有外部IP的连接关系，帮助审计人员快速从视觉上识别出潜在的异常通信或恶意连接，这远比阅读纯文本列表要高效得多。</li>
</ul>
<p><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/9.png" alt="体检报告"></p>
<h4 id="亮点3：为效率而生的强大交互体验"><a href="#亮点3：为效率而生的强大交互体验" class="headerlink" title="亮点3：为效率而生的强大交互体验"></a><strong>亮点3：为效率而生的强大交互体验</strong></h4><p>一份优秀的报告不仅要内容详实，更要易于使用。为此，我们设计了多种高效的交互功能：</p>
<ul>
<li><strong>优秀的风险筛选：</strong> 这是我们最具特色的功能之一。每个模块展示时优先展示重点或者异常模块，将不重要或者正常模块先隐藏，当用户需要查看所有信息时就可自行点击查看所有。用户也可以点击报告中任意一个风险标签（如“高危”），整个报告页面将<strong>即时过滤</strong>，仅显示与该风险等级相关的条目。这使得安全人员能够迅速聚焦于最高优先级的任务，极大提升了响应和修复效率。<br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/%E4%B8%AD%E5%8D%B1%E4%B8%BE%E4%BE%8B.png" alt="体检报告"></li>
<li><strong>一键展开&#x2F;折叠：</strong> 面对包含12个模块的详细报告，用户可以通过顶部的“展开&#x2F;折叠”按钮一键切换全局视图，既能宏观浏览，又能深入细节，操作便捷高效。</li>
<li><strong>双版本PDF导出：</strong> 考虑到不同的汇报场景，我们提供两种导出选项：<strong>摘要版</strong>（只包含各模块概览）和<strong>完整版</strong>（包含所有展开的风险详情），满足从管理层汇报到技术归档的全部需求。<br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/%E5%AF%BC%E5%87%BA.png" alt="体检报告"></li>
</ul>
<hr>
<h3 id="三、架构的演进：从单体智能到协同分析"><a href="#三、架构的演进：从单体智能到协同分析" class="headerlink" title="三、架构的演进：从单体智能到协同分析"></a><strong>三、架构的演进：从单体智能到协同分析</strong></h3><p>在项目初期，我们曾尝试一种“端到端”的解决方案。构想是利用<code>Cherry Studio</code>等平台的知识库和高级提示词工程能力，将所有安全基线和审计逻辑植入知识库，然后将采集到的主机信息一次性提交给大模型，期望其直接生成最终的HTML报告。</p>
<p>实践证明，这种方法存在显著的瓶颈。大规模、异构的原始数据（数十个命令的输出）同时输入，会给大模型的上下文处理能力和API稳定性带来巨大挑战，导致请求超时、响应截断等问题频发。</p>
<p>这次尝试使我们认识到，<strong>AI的最优应用模式是作为分析核心，而非流程执行器</strong>。基于此，我们重新设计了系统架构，采用Python脚本与AI模型协同工作的模式。</p>
<p>该架构将审计流程解耦为三个核心阶段：</p>
<ol>
<li><strong>标准化数据采集：</strong> 利用Python的<code>paramiko</code>库，通过SSH协议远程连接目标主机。脚本会以只读方式执行一系列预定义的Shell命令，采集覆盖10余个安全维度的原始数据。</li>
<li><strong>分模块AI分析：</strong> 这是系统的核心。脚本将采集到的数据按<strong>资产清单、系统配置、网络暴露面、历史痕迹</strong>等模块进行划分。随后，<strong>针对每一个模块</strong>，使用专门设计的Prompt模板，独立调用大模型API进行分析。这种“<strong>分而治之</strong>”的策略显著降低了单次请求的复杂性，使AI能够对每个安全域进行更专注和深入的推理，并返回结构化的JSON结果。</li>
<li><strong>自动化报告生成：</strong> 脚本聚合所有模块返回的JSON数据，并执行最终的后处理逻辑，包括基于加权模型的安全评分计算。最后，利用<code>Jinja2</code>模板引擎，将完整的、结构化的数据注入到预设的HTML模板中，生成最终的交互式安全报告。</li>
</ol>
<hr>
<h3 id="四、项目核心组件解析"><a href="#四、项目核心组件解析" class="headerlink" title="四、项目核心组件解析"></a><strong>四、项目核心组件解析</strong></h3><p><code>主机御医1.0</code>的实现主要依赖于以下几个关键文件：<br><img src="/images/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E4%BD%93%E6%A3%80%E6%8A%A5%E5%91%8A/%E6%96%87%E4%BB%B6.png" alt="体检报告"><br>（其中final_security_report和report_data文件为生成的文件）</p>
<h5 id="1-核心控制器-main-py"><a href="#1-核心控制器-main-py" class="headerlink" title="1. 核心控制器: main.py"></a><strong>1. 核心控制器: <code>main.py</code></strong></h5><p>作为项目的引擎，该Python脚本承担了整个审计流程的编排工作：</p>
<ul>
<li><strong>命令定义 (<code>COMMANDS_TO_RUN</code>)：</strong> 以字典形式精确定义了需要采集的命令，覆盖了从主机信息到内核参数的各个层面。</li>
<li><strong>AI接口封装 (<code>call_llm_for_analysis</code>)：</strong> 负责与大模型API（本项目选用<code>deepseek-ai/DeepSeek-V3</code>）进行通信，并内置了重试与错误处理机制。</li>
<li><strong>分析工作流 (<code>analyze_module_by_module</code>)：</strong> 实现了将原始数据与特定Prompt相结合，分模块调用AI进行分析的核心逻辑。</li>
<li><strong>评分与校准 (<code>post_process_and_calibrate</code>)：</strong> 这是项目的关键创新之一。该函数实现了一套<strong>基于风险类型的加权评分模型</strong>，替代了传统的简单风险计数。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py - 精细化计分模型示例</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">post_process_and_calibrate</span>(<span class="params">analyzed_data, template_data</span>):</span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line">    <span class="comment"># 定义扣分规则 (基于风险类型加权)</span></span><br><span class="line">    scoring_rules = &#123;</span><br><span class="line">        <span class="string">&quot;credentials&quot;</span>:   &#123;<span class="string">&quot;high&quot;</span>: <span class="number">12</span>, <span class="string">&quot;medium&quot;</span>: <span class="number">6</span>, <span class="string">&quot;low&quot;</span>: <span class="number">2</span>&#125;,</span><br><span class="line">        <span class="string">&quot;integrity&quot;</span>:     &#123;<span class="string">&quot;high&quot;</span>: <span class="number">8</span>, <span class="string">&quot;medium&quot;</span>: <span class="number">4</span>, <span class="string">&quot;low&quot;</span>: <span class="number">2</span>&#125;,</span><br><span class="line">        <span class="string">&quot;software_vuln&quot;</span>: &#123;<span class="string">&quot;high&quot;</span>: <span class="number">8</span>, <span class="string">&quot;medium&quot;</span>: <span class="number">4</span>, <span class="string">&quot;low&quot;</span>: <span class="number">1</span>&#125;,</span><br><span class="line">        <span class="string">&quot;config&quot;</span>:        &#123;<span class="string">&quot;high&quot;</span>: <span class="number">6</span>, <span class="string">&quot;medium&quot;</span>: <span class="number">3</span>, <span class="string">&quot;low&quot;</span>: <span class="number">1</span>&#125;,</span><br><span class="line">        <span class="string">&quot;forensics&quot;</span>:     &#123;<span class="string">&quot;high&quot;</span>: <span class="number">5</span>, <span class="string">&quot;medium&quot;</span>: <span class="number">3</span>, <span class="string">&quot;low&quot;</span>: <span class="number">1</span>&#125;,</span><br><span class="line">        <span class="string">&quot;network&quot;</span>:       &#123;<span class="string">&quot;high&quot;</span>: <span class="number">6</span>, <span class="string">&quot;medium&quot;</span>: <span class="number">3</span>, <span class="string">&quot;low&quot;</span>: <span class="number">1</span>&#125;,</span><br><span class="line">        <span class="string">&quot;identity&quot;</span>:      &#123;<span class="string">&quot;high&quot;</span>: <span class="number">8</span>, <span class="string">&quot;medium&quot;</span>: <span class="number">4</span>, <span class="string">&quot;low&quot;</span>: <span class="number">1</span>&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># ... 循环遍历所有模块，根据规则进行扣分 ...</span></span><br></pre></td></tr></table></figure>

<h5 id="2-报告呈现层-templates-report-template-html"><a href="#2-报告呈现层-templates-report-template-html" class="headerlink" title="2. 报告呈现层: templates/report_template.html"></a><strong>2. 报告呈现层: <code>templates/report_template.html</code></strong></h5><p>该文件定义了最终报告的结构、样式与交互行为，是一个独立的前端应用。</p>
<ul>
<li><strong>数据注入点：</strong> 文件内的<code>const reportData = &#123;&#125;;</code>是关键的数据接口，由<code>main.py</code>在生成报告时动态填充。</li>
<li><strong>前端渲染逻辑：</strong> 报告页面加载后，内置的JavaScript会解析<code>reportData</code>中的JSON数据，通过DOM操作动态生成所有图表（使用<code>Chart.js</code>）、表格和风险条目。</li>
<li><strong>高级交互功能：</strong> 实现了侧边栏折叠、模块风险摘要、全局风险等级筛选、动态滚动导航高亮等一系列高级交互功能，旨在提升报告的可读性和易用性。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- templates/report_template.html - 资产清单模块结构示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;assets&quot;</span> <span class="attr">class</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;module-header&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa-solid fa-cubes&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 资产清单与软件风险<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa-solid fa-chevron-down toggle-icon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;module-content&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- JS会在此处填充风险摘要 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;module-summary&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">h4</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa-solid fa-box-open&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已安装软件 (风险评估)<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;data-table&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">thead</span>&gt;</span>...<span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- JS会在此处填充软件列表 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">&quot;software-table-body&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="3-环境配置"><a href="#3-环境配置" class="headerlink" title="3. 环境配置"></a><strong>3. 环境配置</strong></h5><ul>
<li><strong><code>.env</code> &amp; <code>config.json</code>:</strong> 分别用于存储API密钥和目标主机连接信息，实现了配置与代码的分离，提高了安全性和可维护性。</li>
</ul>
<hr>
<h3 id="五、结论与展望"><a href="#五、结论与展望" class="headerlink" title="五、结论与展望"></a><strong>五、结论与展望</strong></h3><p><code>主机御医1.0</code>项目成功验证了将大型语言模型作为核心分析引擎，与传统自动化脚本相结合的技术路径是完全可行的。它不仅将数小时的手动审计工作压缩到几分钟，还通过结构化、可视化的方式，提供了一致且专业的审计输出。</p>
<p>未来的工作可以在此基础上进一步扩展，例如：集成自动化修复脚本生成、实现基于时间序列的风险变化监控、或将审计能力扩展到容器、云环境等更广泛的领域。</p>
<p>希望本次的开发实践分享，能为探索AI在网络安全领域的应用提供一些有价值的参考。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://grokfree.xyz/2025/07/26/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%E6%8A%A5%E5%91%8A/" data-id="cmds5y09h00135ovehq6e5tli" data-title="AI：咚咚咚！您好，请查收这份《主机安全体检报告》" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AIOps/" rel="tag">AIOps</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LLM/" rel="tag">LLM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" rel="tag">大模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/" rel="tag">提示词工程</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4/" rel="tag">网络运维</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/07/26/ISC7%E6%9C%88%E5%88%86%E4%BA%AB%E4%BC%9A/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          ISC2上海分会7月分享会纪要
        
      </div>
    </a>
  
  
    <a href="/2025/07/21/%E5%AE%89%E5%85%A8%E5%AE%A1%E8%AE%A1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">AI + 等保 = ？答案：一键生成安全审计报告</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81/">会议纪要</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81/%E8%A1%8C%E4%B8%9A%E5%8A%A8%E6%80%81/">行业动态</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/">技术实践</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/AIOps/">AIOps</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E5%B7%A5%E5%85%B7/">技术工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/">效率工具</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AIOps/" rel="tag">AIOps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Agentic-AI/" rel="tag">Agentic AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAASM/" rel="tag">CAASM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CLI/" rel="tag">CLI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cisco/" rel="tag">Cisco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FortiGate/" rel="tag">FortiGate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gemini/" rel="tag">Gemini</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ISC2/" rel="tag">ISC2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLM/" rel="tag">LLM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MCP%E5%8D%8F%E8%AE%AE/" rel="tag">MCP协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" rel="tag">大模型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/" rel="tag">大语言模型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E4%B9%A0/" rel="tag">实习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/" rel="tag">提示词工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" rel="tag">效率工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%87/" rel="tag">效率提升</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%87%BA%E5%A2%83/" rel="tag">数据出境</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%88%90%E5%BC%8FAI/" rel="tag">生成式AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E5%AE%89%E5%B7%A5%E5%85%B7/" rel="tag">网安工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" rel="tag">网络安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4/" rel="tag">网络运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/" rel="tag">软件推荐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%B6%E4%BF%A1%E4%BB%BB/" rel="tag">零信任</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI/" style="font-size: 20px;">AI</a> <a href="/tags/AIOps/" style="font-size: 16.67px;">AIOps</a> <a href="/tags/Agentic-AI/" style="font-size: 10px;">Agentic AI</a> <a href="/tags/CAASM/" style="font-size: 10px;">CAASM</a> <a href="/tags/CLI/" style="font-size: 10px;">CLI</a> <a href="/tags/Cisco/" style="font-size: 10px;">Cisco</a> <a href="/tags/FortiGate/" style="font-size: 10px;">FortiGate</a> <a href="/tags/Gemini/" style="font-size: 10px;">Gemini</a> <a href="/tags/ISC2/" style="font-size: 10px;">ISC2</a> <a href="/tags/LLM/" style="font-size: 13.33px;">LLM</a> <a href="/tags/MCP%E5%8D%8F%E8%AE%AE/" style="font-size: 10px;">MCP协议</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 10px;">大模型</a> <a href="/tags/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/" style="font-size: 10px;">大语言模型</a> <a href="/tags/%E5%AE%9E%E4%B9%A0/" style="font-size: 10px;">实习</a> <a href="/tags/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/" style="font-size: 13.33px;">提示词工程</a> <a href="/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">效率工具</a> <a href="/tags/%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%87/" style="font-size: 10px;">效率提升</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%87%BA%E5%A2%83/" style="font-size: 10px;">数据出境</a> <a href="/tags/%E7%94%9F%E6%88%90%E5%BC%8FAI/" style="font-size: 10px;">生成式AI</a> <a href="/tags/%E7%BD%91%E5%AE%89%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">网安工具</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" style="font-size: 10px;">网络安全</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E8%BF%90%E7%BB%B4/" style="font-size: 16.67px;">网络运维</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/" style="font-size: 10px;">软件推荐</a> <a href="/tags/%E9%9B%B6%E4%BF%A1%E4%BB%BB/" style="font-size: 10px;">零信任</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">七月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/07/26/ISC7%E6%9C%88%E5%88%86%E4%BA%AB%E4%BC%9A/">ISC2上海分会7月分享会纪要</a>
          </li>
        
          <li>
            <a href="/2025/07/26/%E4%B8%BB%E6%9C%BA%E5%AE%89%E5%85%A8%E6%A3%80%E6%9F%A5%E6%8A%A5%E5%91%8A/">AI：咚咚咚！您好，请查收这份《主机安全体检报告》</a>
          </li>
        
          <li>
            <a href="/2025/07/21/%E5%AE%89%E5%85%A8%E5%AE%A1%E8%AE%A1/">AI + 等保 = ？答案：一键生成安全审计报告</a>
          </li>
        
          <li>
            <a href="/2025/07/14/%E7%BD%91%E5%AE%89%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%AE%9E%E7%94%A8%E8%BD%AF%E4%BB%B6/">网安工作实用软件推荐</a>
          </li>
        
          <li>
            <a href="/2025/07/11/telnet%E4%BA%A4%E6%8D%A2%E6%9C%BAmcp/">从命令行到认知智能：基于cisco-mcp的AIOps深度实践</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Zachary<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/links/" class="mobile-nav-link">Links</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>